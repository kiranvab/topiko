{"version":3,"sources":["webpack:///src/app/chatbox/chatbox.module.ts","webpack:///src/app/chatbox/chatbox.page.scss","webpack:///src/app/chatbox/chatbox.page.html","webpack:///src/app/chatbox/chatbox.page.ts","webpack:///src/app/chatbox/chatbox-routing.module.ts"],"names":["ChatboxPageModule","imports","declarations","ChatboxPage","route","storage","http","file","transfer","loadingController","camera","router","bottomdiv","fileTransfer","create","fileurl","queryParams","subscribe","params","chatroom","partner_name","last_seen","online","console","log","get","ApiUrl","data","chatmessages","scrollToBottomOnInit","then","udetails","userDetails","user_id","id","ObservableVar","interval","ObservableVar1","event","cssClass","message","loading","present","fileType","Ufile","target","files","formData","FormData","append","post","resdata","FileName","docfile","substr","lastIndexOf","path","type","SendMessage","imagefile","link","Data","JSON","stringify","value","cresponse","chatresponse","dismiss","navigate","audfile","vidfile","element","document","getElementById","scrollTop","scrollHeight","clientHeight","options","sourceType","PictureSourceType","PHOTOLIBRARY","destinationType","DestinationType","DATA_URL","encodingType","EncodingType","JPEG","mediaType","MediaType","PICTURE","getPicture","imageData","image","unsubscribe","callFun","alert","selector","template","routes","component","ChatboxPageRoutingModule","forChild","exports"],"mappings":"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","file":"chatbox-chatbox-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ChatboxPageRoutingModule } from './chatbox-routing.module';\n\nimport { ChatboxPage } from './chatbox.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ChatboxPageRoutingModule\n  ],\n  declarations: [ChatboxPage]\n})\nexport class ChatboxPageModule {}\n","export default \".avatar ion-avatar {\\n  height: 42px;\\n  width: 42px;\\n}\\n\\nion-title {\\n  font-size: 16px;\\n  color: #ffffff;\\n  padding: 0px;\\n  text-align: left;\\n  line-height: 19px;\\n}\\n\\n.dat ion-title {\\n  font-size: 10px;\\n  letter-spacing: 0px;\\n  color: #ffffff;\\n}\\n\\nion-header ion-icon {\\n  font-size: 20px;\\n  color: #ffffff;\\n}\\n\\nion-content {\\n  --background: #d6d6d6;\\n}\\n\\n.div-date {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.date {\\n  width: 95px;\\n  height: 26px;\\n  background-color: #e9e9e9;\\n  border-radius: 1em;\\n  margin-top: 0.625em;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.date p {\\n  margin: 0%;\\n  text-align: center;\\n  font-size: 0.75em;\\n  color: #707070;\\n}\\n\\n.chat-lbox {\\n  border-radius: 0px 8px 8px 8px;\\n  max-width: 80%;\\n  padding: 6px;\\n  box-shadow: none;\\n  margin: 10px;\\n  background: #fff;\\n}\\n\\n.time {\\n  float: right;\\n}\\n\\n.time p {\\n  color: #cecece;\\n  font-size: 0.625em;\\n  padding-right: 0.3125em;\\n  margin: 0%;\\n}\\n\\n.left-chat {\\n  background-color: #fff;\\n  text-align: left;\\n  padding-bottom: 0%;\\n}\\n\\n.title {\\n  color: #871178;\\n  font-size: 16px;\\n  font-weight: bold;\\n  margin: 4px 0px;\\n  margin-top: 0%;\\n  display: none;\\n}\\n\\n.subtitle {\\n  color: #22272a;\\n  font-size: 14px;\\n  margin: 4px 0px;\\n  margin-bottom: 0%;\\n}\\n\\n.rt {\\n  display: flex;\\n  flex-direction: row-reverse;\\n}\\n\\n.chat-rbox {\\n  border-radius: 8px 0px 8px 8px;\\n  min-width: 80%;\\n  max-width: 80%;\\n  padding: 6px;\\n  margin: 10px;\\n  box-shadow: none;\\n  background-color: #871178;\\n}\\n\\n.right-chat {\\n  background-color: #871178;\\n  text-align: left;\\n  padding-bottom: 0%;\\n}\\n\\n.right-chat .subtitle {\\n  color: #fff;\\n}\\n\\n.right-chat .time {\\n  color: #fff;\\n}\\n\\n.bottom {\\n  position: fixed;\\n  bottom: -0.4437em;\\n  width: 100%;\\n  padding-bottom: 7px;\\n}\\n\\n.inp .grid {\\n  border: 0.3px solid rgba(112, 112, 112, 0.3);\\n  border-radius: 50px;\\n  background-color: #f8f8f8;\\n  height: 49px;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  width: -webkit-fill-available;\\n}\\n\\n.grid {\\n  padding: 1.5%;\\n  padding-top: 1.7%;\\n}\\n\\n.msg {\\n  padding: 0%;\\n}\\n\\n.msg ion-input {\\n  --padding: 0%;\\n  --padding-bottom: 10px;\\n  color: #22272a;\\n  text-align: left;\\n}\\n\\n.icn {\\n  display: flex;\\n  justify-content: right;\\n  align-items: center;\\n  padding: 0%;\\n}\\n\\n.grid ion-icon {\\n  color: #707070;\\n  font-size: 24px;\\n}\\n\\n.fabb {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\nion-fab-button {\\n  --background: linear-gradient(#871178, #3c1378);\\n  --color: #ffffff;\\n  height: 42px;\\n  width: 42px;\\n  --box-shadow: none;\\n}\\n\\n.fab ion-icon {\\n  color: #f8f8f8;\\n  height: 20px;\\n  width: 20px;\\n}\\n\\nion-footer {\\n  background: #d6d6d6 !important;\\n  padding-top: 0px;\\n  height: 50px;\\n}\\n\\nion-footer ion-toolbar {\\n  --background: #d6d6d6;\\n  --padding-bottom: 0.875em;\\n}\\n\\ndiv.main {\\n  overflow-y: auto;\\n  height: 90% !important;\\n  padding: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2NoYXRib3gucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU1BO0VBQ0ksWUFBQTtFQUNBLFdBQUE7QUFMSjs7QUFPQTtFQUNJLGVBQUE7RUFDQSxjQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7QUFKSjs7QUFNQTtFQUNJLGVBQUE7RUFDQSxtQkFBQTtFQUNBLGNBQUE7QUFISjs7QUFLQTtFQUNJLGVBQUE7RUFDQSxjQUFBO0FBRko7O0FBS0E7RUFDSSxxQkFBQTtBQUZKOztBQUlBO0VBQ0ksYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7QUFESjs7QUFHQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0VBQ0EseUJBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7QUFBSjs7QUFFQTtFQUNJLFVBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtBQUNKOztBQUdBO0VBQ0ksOEJBQUE7RUFDQSxjQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0FBQUo7O0FBRUE7RUFDSSxZQUFBO0FBQ0o7O0FBQ0E7RUFDSSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSx1QkFBQTtFQUNBLFVBQUE7QUFFSjs7QUFBQTtFQUNJLHNCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtBQUdKOztBQURBO0VBQ0ksY0FBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0VBQ0EsYUFBQTtBQUlKOztBQUZBO0VBQ0ksY0FBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7QUFLSjs7QUFIQTtFQUNJLGFBQUE7RUFDQSwyQkFBQTtBQU1KOztBQUpBO0VBQ0ksOEJBQUE7RUFDQSxjQUFBO0VBQ0EsY0FBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSx5QkFBQTtBQU9KOztBQUxBO0VBQ0kseUJBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0FBUUo7O0FBTEE7RUFDRyxXQUFBO0FBUUg7O0FBTEE7RUFDSSxXQUFBO0FBUUo7O0FBTEE7RUFDSSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxXQUFBO0VBQ0EsbUJBQUE7QUFRSjs7QUFOQTtFQUNJLDRDQUFBO0VBQ0EsbUJBQUE7RUFDQSx5QkFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSx1QkFBQTtFQUNBLDZCQUFBO0FBU0o7O0FBUEE7RUFDSSxhQUFBO0VBQ0EsaUJBQUE7QUFVSjs7QUFSQTtFQUNJLFdBQUE7QUFXSjs7QUFUQTtFQUNJLGFBQUE7RUFDQSxzQkFBQTtFQUNBLGNBQUE7RUFDQSxnQkFBQTtBQVlKOztBQVZBO0VBQ0ksYUFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7RUFDQSxXQUFBO0FBYUo7O0FBWEE7RUFDSSxjQUFBO0VBQ0EsZUFBQTtBQWNKOztBQVpBO0VBQ0ksYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7QUFlSjs7QUFiQTtFQUNJLCtDQUFBO0VBQ0EsZ0JBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0FBZ0JKOztBQWRBO0VBQ0ksY0FBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0FBaUJKOztBQWZBO0VBQ0ksOEJBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7QUFrQko7O0FBaEJBO0VBQ0kscUJBQUE7RUFDQSx5QkFBQTtBQW1CSjs7QUFqQkE7RUFDSSxnQkFBQTtFQUNBLHNCQUFBO0VBQ0EsYUFBQTtBQW9CSiIsImZpbGUiOiJjaGF0Ym94LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8vaGVhZGVyXHJcbi8vIC5uYW1lIGlvbi1hdmF0YXIge1xyXG4vLyAgICAgbWFyZ2luOiAwcHg7XHJcbi8vICAgICBoZWlnaHQ6IDQycHg7XHJcbi8vICAgICB3aWR0aDogNDJweDtcclxuLy8gfVxyXG4uYXZhdGFyIGlvbi1hdmF0YXIge1xyXG4gICAgaGVpZ2h0OiA0MnB4O1xyXG4gICAgd2lkdGg6IDQycHg7XHJcbn1cclxuaW9uLXRpdGxlIHtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIGNvbG9yOiAjZmZmZmZmO1xyXG4gICAgcGFkZGluZzogMHB4O1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICAgIGxpbmUtaGVpZ2h0OiAxOXB4O1xyXG59XHJcbi5kYXQgaW9uLXRpdGxlIHtcclxuICAgIGZvbnQtc2l6ZTogMTBweDtcclxuICAgIGxldHRlci1zcGFjaW5nOiAwcHg7XHJcbiAgICBjb2xvcjogI2ZmZmZmZjtcclxufVxyXG5pb24taGVhZGVyIGlvbi1pY29uIHtcclxuICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgIGNvbG9yOiAjZmZmZmZmO1xyXG59XHJcblxyXG5pb24tY29udGVudCB7XHJcbiAgICAtLWJhY2tncm91bmQ6ICNkNmQ2ZDY7XHJcbn1cclxuLmRpdi1kYXRlIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuLmRhdGUge1xyXG4gICAgd2lkdGg6IDk1cHg7XHJcbiAgICBoZWlnaHQ6IDI2cHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTllOWU5O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMWVtO1xyXG4gICAgbWFyZ2luLXRvcDogMC42MjVlbTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuLmRhdGUgcCB7XHJcbiAgICBtYXJnaW46IDAlO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgZm9udC1zaXplOiAwLjc1ZW07XHJcbiAgICBjb2xvcjogIzcwNzA3MDtcclxufVxyXG5cclxuLy9jYXJkc1xyXG4uY2hhdC1sYm94IHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDBweCA4cHggOHB4IDhweDtcclxuICAgIG1heC13aWR0aDogODAlO1xyXG4gICAgcGFkZGluZzogNnB4O1xyXG4gICAgYm94LXNoYWRvdzogbm9uZTtcclxuICAgIG1hcmdpbjogMTBweDtcclxuICAgIGJhY2tncm91bmQ6ICNmZmY7XHJcbn1cclxuLnRpbWUge1xyXG4gICAgZmxvYXQ6IHJpZ2h0O1xyXG59XHJcbi50aW1lIHAge1xyXG4gICAgY29sb3I6ICNjZWNlY2U7XHJcbiAgICBmb250LXNpemU6IDAuNjI1ZW07XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAwLjMxMjVlbTtcclxuICAgIG1hcmdpbjogMCU7XHJcbn1cclxuLmxlZnQtY2hhdCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICAgIHBhZGRpbmctYm90dG9tOiAwJTtcclxufVxyXG4udGl0bGUge1xyXG4gICAgY29sb3I6ICM4NzExNzg7XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIG1hcmdpbjogNHB4IDBweDtcclxuICAgIG1hcmdpbi10b3A6IDAlO1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxufVxyXG4uc3VidGl0bGUge1xyXG4gICAgY29sb3I6ICMyMjI3MmE7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBtYXJnaW46IDRweCAwcHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAwJTtcclxufVxyXG4ucnQge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTtcclxufVxyXG4uY2hhdC1yYm94IHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDhweCAwcHggOHB4IDhweDtcclxuICAgIG1pbi13aWR0aDogODAlO1xyXG4gICAgbWF4LXdpZHRoOiA4MCU7XHJcbiAgICBwYWRkaW5nOiA2cHg7XHJcbiAgICBtYXJnaW46IDEwcHg7XHJcbiAgICBib3gtc2hhZG93OiBub25lO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzg3MTE3ODtcclxufVxyXG4ucmlnaHQtY2hhdCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjODcxMTc4O1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICAgIHBhZGRpbmctYm90dG9tOiAwJTtcclxufVxyXG5cclxuLnJpZ2h0LWNoYXQgLnN1YnRpdGxlIHtcclxuICAgY29sb3I6ICNmZmY7XHJcbn1cclxuXHJcbi5yaWdodC1jaGF0IC50aW1lIHtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gfVxyXG5cclxuLmJvdHRvbSB7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICBib3R0b206IC0wLjQ0MzdlbTtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgcGFkZGluZy1ib3R0b206IDdweDtcclxufVxyXG4uaW5wIC5ncmlkIHtcclxuICAgIGJvcmRlcjogMC4zcHggc29saWQgcmdiYSgxMTIsIDExMiwgMTEyLCAwLjMpO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNTBweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY4Zjg7XHJcbiAgICBoZWlnaHQ6IDQ5cHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgd2lkdGg6IC13ZWJraXQtZmlsbC1hdmFpbGFibGU7XHJcbn1cclxuLmdyaWQge1xyXG4gICAgcGFkZGluZzogMS41JTtcclxuICAgIHBhZGRpbmctdG9wOiAxLjclO1xyXG59XHJcbi5tc2cge1xyXG4gICAgcGFkZGluZzogMCU7XHJcbn1cclxuLm1zZyBpb24taW5wdXQge1xyXG4gICAgLS1wYWRkaW5nOiAwJTtcclxuICAgIC0tcGFkZGluZy1ib3R0b206IDEwcHg7XHJcbiAgICBjb2xvcjogIzIyMjcyYTtcclxuICAgIHRleHQtYWxpZ246IGxlZnQ7XHJcbn1cclxuLmljbiB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiByaWdodDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBwYWRkaW5nOiAwJTtcclxufVxyXG4uZ3JpZCBpb24taWNvbiB7XHJcbiAgICBjb2xvcjogIzcwNzA3MDtcclxuICAgIGZvbnQtc2l6ZTogMjRweDtcclxufVxyXG4uZmFiYiB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcbmlvbi1mYWItYnV0dG9uIHtcclxuICAgIC0tYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KCM4NzExNzgsICMzYzEzNzgpO1xyXG4gICAgLS1jb2xvcjogI2ZmZmZmZjtcclxuICAgIGhlaWdodDogNDJweDtcclxuICAgIHdpZHRoOiA0MnB4O1xyXG4gICAgLS1ib3gtc2hhZG93OiBub25lO1xyXG59XHJcbi5mYWIgaW9uLWljb24ge1xyXG4gICAgY29sb3I6ICNmOGY4Zjg7XHJcbiAgICBoZWlnaHQ6IDIwcHg7XHJcbiAgICB3aWR0aDogMjBweDtcclxufVxyXG5pb24tZm9vdGVyIHtcclxuICAgIGJhY2tncm91bmQ6ICNkNmQ2ZDYgIWltcG9ydGFudDtcclxuICAgIHBhZGRpbmctdG9wOiAwcHg7XHJcbiAgICBoZWlnaHQ6IDUwcHg7XHJcbn1cclxuaW9uLWZvb3RlciBpb24tdG9vbGJhciB7XHJcbiAgICAtLWJhY2tncm91bmQ6ICNkNmQ2ZDY7XHJcbiAgICAtLXBhZGRpbmctYm90dG9tOiAwLjg3NWVtO1xyXG59XHJcbmRpdi5tYWlue1xyXG4gICAgb3ZlcmZsb3cteTogYXV0bztcclxuICAgIGhlaWdodDo5MCUgIWltcG9ydGFudDtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgfSJdfQ== */\";","export default \"<ion-header color=\\\"custom\\\">\\n  <ion-toolbar color=\\\"custom\\\" class=\\\"toolbar\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-row>\\n      <div class=\\\"avatar\\\">\\n        <ion-avatar>\\n          <img src=\\\"https://i.pinimg.com/474x/bc/d4/ac/bcd4ac32cc7d3f98b5e54bde37d6b09e.jpg\\\" alt=\\\"\\\">\\n        </ion-avatar>\\n      </div>\\n      <ion-col class=\\\"text-overflow\\\">\\n        <ion-title>{{partner_name}}</ion-title>\\n        <ion-row class=\\\"dat\\\">\\n          <ion-title *ngIf=\\\"online==0\\\">Last Seen {{last_seen}}</ion-title>\\n          <ion-title *ngIf=\\\"online==1\\\">Online</ion-title>\\n        </ion-row>\\n      </ion-col>\\n    </ion-row>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-icon name=\\\"videocam\\\"></ion-icon>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-icon name=\\\"call\\\"></ion-icon>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-icon name=\\\"search\\\"></ion-icon>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-icon name=\\\"ellipsis-vertical\\\"></ion-icon>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content #scrollElement padding>\\n  <div id=\\\"condiv\\\" class=\\\"main\\\">\\n<div *ngFor=\\\"let chat of chatmessages; let i-index\\\" >\\n  <ion-card class=\\\"chat-lbox\\\"  *ngIf=\\\"chat.posted_by === user_id\\\" (mouseup)=\\\"diSable()\\\">\\n    <ion-row *ngIf=\\\"chat.type==='text'\\\">\\n      <ion-col class=\\\"left-chat\\\">\\n        <p class=\\\"title\\\">{{chat.name}}</p>\\n        <p class=\\\"subtitle\\\">{{chat.message}}</p>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row *ngIf=\\\"chat.type === 'image'\\\">\\n      <ion-col>\\n        <img src=\\\"{{fileurl}}{{chat.file_path}}\\\"/>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row *ngIf=\\\"chat.type === 'video'\\\">\\n      <ion-col>\\n        <video width=\\\"100%\\\" height=\\\"auto\\\" controls (play)=\\\"diSable()\\\" (pause)=\\\"ReActivate()\\\" (ended)=\\\"ReActivate()\\\">\\n          <source src=\\\"{{fileurl}}{{chat.file_path}}\\\" type=\\\"video/mp4\\\">\\n        </video>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row *ngIf=\\\"chat.type === 'audio'\\\">\\n      <ion-col>\\n        <audio style=\\\"width: 100%;\\\" controls (play)=\\\"diSable()\\\" (pause)=\\\"ReActivate()\\\" (ended)=\\\"ReActivate()\\\">\\n          <source src=\\\"{{fileurl}}{{chat.file_path}}\\\" type=\\\"audio/mpeg\\\">\\n        </audio>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row *ngIf=\\\"chat.type === 'doc1'\\\">\\n      <ion-col>\\n        <object data=\\\"{{fileurl}}{{chat.file_path}}\\\" type=\\\"application/pdf\\\" width=\\\"220\\\" height=\\\"160\\\">\\n          alt : <a href=\\\"{{fileurl}}{{chat.file_path}}\\\">{{chat.file_path}}</a>\\n      </object>\\n      <iframe src=\\\"{{fileurl}}{{chat.file_path}}\\\" style=\\\"width:100%;height:700px;\\\"></iframe>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"time\\\">\\n      <p>{{chat.created_date}}</p>\\n    </ion-row>\\n  </ion-card>\\n  <ion-row class=\\\"rt\\\"  *ngIf=\\\"chat.posted_by !== user_id\\\" >\\n    <ion-card class=\\\"chat-rbox\\\">\\n      <ion-row>\\n        <ion-col class=\\\"right-chat\\\">\\n          <p class=\\\"title\\\">{{chat.name}}</p>\\n          <p class=\\\"subtitle\\\">{{chat.message}}</p>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row class=\\\"time\\\">\\n        <p>{{chat.created_date}}</p>\\n      </ion-row>\\n    </ion-card>\\n  </ion-row>\\n  </div>\\n  </div>\\n  <div style=\\\"min-height: 220px; text-align: center; background:#fff; padding:5%;width:100%; position: fixed; bottom:40px; z-index:9999; border-radius: 20px;\\\" *ngIf=\\\"bottomdiv\\\" >\\n    <ion-row >\\n      <ion-col size=\\\"4\\\" style=\\\"text-align: center;\\\">\\n        <input class=\\\"ion-hide\\\" #f type=\\\"file\\\" [(ngModel)]=\\\"docfile\\\" (change)=\\\"UploadDocument($event)\\\" id=\\\"file-input\\\"\\n        accept=\\\"application/msword, application/vnd.ms-excel, application/vnd.ms-powerpoint,text/plain, application/pdf\\\">\\n        <div style=\\\"background: rgb(153, 3, 78); border-radius: 50%; height:50px; width:50px;\\\" (click)=\\\"f.click()\\\"><ion-icon name=\\\"document-outline\\\" color=\\\"light\\\" style=\\\"font-size:2em; margin-top: 15%;\\\"></ion-icon></div></ion-col>\\n    \\n      <ion-col size=\\\"4\\\" style=\\\"text-align: center;\\\">\\n        <div style=\\\"background: rgb(6, 94, 28); border-radius: 50%; height:50px; width:50px;\\\" (click)=\\\"takePicture()\\\"><ion-icon name=\\\"camera-outline\\\" color=\\\"light\\\" style=\\\"font-size:2em; margin-top: 15%;\\\"></ion-icon></div></ion-col>\\n   \\n      <ion-col size=\\\"4\\\" style=\\\"text-align: center;\\\">\\n        <input class=\\\"ion-hide\\\" [(ngModel)]=\\\"imagefile\\\" #g type=\\\"file\\\" (change)=\\\"pickGallery($event)\\\" id=\\\"file-input\\\"\\n        accept=\\\"image/*\\\">\\n        <div style=\\\"background: rgb(18, 3, 153); border-radius: 50%; height:50px; width:50px;\\\" (click)=\\\"g.click()\\\"><ion-icon name=\\\"image-outline\\\" color=\\\"light\\\" style=\\\"font-size:2em; margin-top: 15%;\\\"></ion-icon></div></ion-col>\\n  \\n    </ion-row>\\n    <br>\\n    <ion-row>\\n      <ion-col size=\\\"4\\\" style=\\\"text-align: center;\\\">\\n        <input class=\\\"ion-hide\\\" [(ngModel)]=\\\"audfile\\\" #a type=\\\"file\\\" (change)=\\\"UploadAudio($event)\\\" id=\\\"file-input\\\"\\n        accept=\\\"audio/*\\\">\\n        <div style=\\\"background: rgb(141, 190, 5); border-radius: 50%; height:50px; width:50px;\\\" (click)=\\\"a.click()\\\"><ion-icon name=\\\"mic-outline\\\" color=\\\"light\\\" style=\\\"font-size:2em; margin-top: 15%;\\\"></ion-icon></div></ion-col>\\n     \\n      <ion-col size=\\\"4\\\" style=\\\"text-align: center;\\\">\\n        <input class=\\\"ion-hide\\\" [(ngModel)]=\\\"vidfile\\\" #v type=\\\"file\\\" (change)=\\\"UploadVideo($event)\\\" id=\\\"file-input\\\"\\n        accept=\\\"video/*\\\">\\n        <div style=\\\"background: rgb(4, 76, 104); border-radius: 50%; height:50px; width:50px;\\\" (click)=\\\"v.click()\\\"><ion-icon name=\\\"videocam-outline\\\" color=\\\"light\\\" style=\\\"font-size:2em; margin-top: 15%;\\\"></ion-icon></div></ion-col>\\n      \\n      <ion-col size=\\\"4\\\" style=\\\"text-align: center;\\\"><div style=\\\"background: rgb(119, 0, 16); border-radius: 50%; height:50px; width:50px;\\\" (click)=\\\"UploadLoction()\\\"><ion-icon name=\\\"location-outline\\\" color=\\\"light\\\" style=\\\"font-size:2em; margin-top: 15%;\\\"></ion-icon></div></ion-col>\\n     \\n    </ion-row>\\n  </div>\\n</ion-content>\\n<ion-footer mode=\\\"md\\\" color=\\\"primary\\\">\\n  <ion-toolbar>\\n    <ion-grid class=\\\"bottom\\\">\\n      <ion-row class=\\\"inp\\\">\\n        <ion-col size=\\\"10.5\\\">\\n          <ion-grid class=\\\"grid\\\">\\n            <ion-row>\\n              <ion-col class=\\\"icn\\\" size=\\\"1\\\">\\n                <ion-icon name=\\\"happy-outline\\\"></ion-icon>\\n              </ion-col>\\n              <ion-col class=\\\"msg\\\" size=\\\"9\\\">\\n                <ion-input class=\\\"ioninput\\\" placeholder=\\\"Send a message...\\\" #message (keydown.enter)=\\\"SendMessage()\\\"></ion-input>\\n              </ion-col>\\n              <ion-col class=\\\"icn\\\" size=\\\"1\\\">\\n                <ion-icon name=\\\"attach-outline\\\" (click)=\\\"attachments()\\\"></ion-icon>\\n              </ion-col>\\n              <ion-col class=\\\"icn\\\" size=\\\"1\\\">\\n                <ion-icon name=\\\"mic-outline\\\"></ion-icon>\\n              </ion-col>\\n            </ion-row>\\n          </ion-grid>\\n        </ion-col>\\n        <ion-col class=\\\"fabb\\\" size=\\\"1.5\\\">\\n          <ion-fab>\\n            <ion-fab-button class=\\\"fab\\\" (click)=\\\"SendMessage()\\\">\\n              <ion-icon name=\\\"paper-plane\\\"></ion-icon>\\n            </ion-fab-button>\\n          </ion-fab>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </ion-toolbar>\\n</ion-footer>\";","import { HttpClient } from '@angular/common/http';\nimport { Component, OnInit, ViewChild } from '@angular/core';\nimport { LoadingController, IonContent } from '@ionic/angular';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Storage } from '@ionic/storage-angular';\nimport { AppComponent } from '../app.component';\nimport { Observable } from 'Rxjs/rx';\nimport { Subscription } from 'rxjs/Subscription';\nimport { File } from '@ionic-native/file/ngx';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { FileTransfer, FileUploadOptions, FileTransferObject } from '@ionic-native/file-transfer/ngx';\n\n@Component({\n  selector: 'app-chatbox',\n  templateUrl: './chatbox.page.html',\n  styleUrls: ['./chatbox.page.scss'],\n})\nexport class ChatboxPage implements OnInit {\n  @ViewChild('scrollElement') content: IonContent;\n  ObservableVar : Subscription;\n  ObservableVar1 : Subscription;\n  partnerId: any;\n  userDetails: any;\n  user_id: any;\n  bottomdiv:any=false;\n  @ViewChild('message') message;\n  docfile:any;\n  imagefile:any;\n  audfile:any;\n  vidfile:any;\n  chatresponse: any;\n  chatroom: any;\n  chatmessages: any;\n  partner_name: any;\n  fileType: string;\n  Ufile: any;\n  newfile: any;\n  type: any;\n  path: any;\n  FileName: any;\n  fileurl: string;\n  image: string;\n  sub: Subscription;\n  last_seen: any;\n  online: any;\n\n  constructor(\n    private route: Router,\n    private storage : Storage,\n    private http:HttpClient,\n    private file: File,\n    private transfer: FileTransfer,\n    public loadingController: LoadingController,\n    private camera : Camera,\n    private router : ActivatedRoute\n  ) { \n    const fileTransfer: FileTransferObject = this.transfer.create();\n    this.fileurl = \"https://topiko.com/app/chatfiles/\";\n    \n  }\n\n  ngOnInit() {\n    this.router.queryParams.subscribe(params => {\n      this.chatroom = params[\"room\"];\n      this.partner_name= params[\"name\"];\n      this.last_seen = params['last_seen'];\n      this.online = params['onine'];\n      console.log(\"chatroom :\", this.chatroom);\n      console.log(\"partner Name:\", this.partner_name);\n      this.http.get(AppComponent.ApiUrl+\"getchatmessages.php?chatroom=\"+this.chatroom).subscribe((data)=>{\n        this.chatmessages = data;\n        console.log(\"chatmessages\", this.chatmessages)\n        this. scrollToBottomOnInit();\n      });\n  });\n    this.storage.get('userdetails').then((udetails)=>{\n      this.userDetails = udetails;\n      console.log(\"UserDetails:\", this.userDetails)\n      this.user_id = this.userDetails[0].id;\n      console.log(this.user_id,'User ID')\n    });\n    \n    this.ObservableVar = Observable.interval(2000).subscribe(()=>{\n      this.http.get(AppComponent.ApiUrl+\"getchatmessages.php?chatroom=\"+this.chatroom).subscribe((data)=>{\n        this.chatmessages = data;\n        console.log(\"chatmessages\", this.chatmessages)\n      });\n      \n    });\n\n    this.ObservableVar1 = Observable.interval(100).subscribe(()=>{\n      this. scrollToBottomOnInit();\n    });\n\n  }\n\n  callFun(){\n\n  }\n\n  async UploadDocument(event:any){\n    const loading = await this.loadingController.create({\n      cssClass: 'my-custom-class',\n      message: 'Please Wait',\n    });\n    await loading.present();\n    this.fileType=\"doc\"\n    this.Ufile = event.target.files[0];\n    const formData = new FormData();\n    formData.append('file', this.Ufile);\n    this.http.post(AppComponent.ApiUrl+\"uploadfile.php\", formData).subscribe((resdata)=>{\n      console.log(resdata);\n      if(resdata==1){\n        this.FileName= this.docfile.substr(this.docfile.lastIndexOf('\\\\') + 1),\n        this.path=this.FileName;\n        this.type = \"doc\";\n        this.SendMessage();\n      }\n    })\n    \n  }\n\n\n\n  async pickGallery(event:any){\n    const loading = await this.loadingController.create({\n      cssClass: 'my-custom-class',\n      message: 'Please Wait',\n    });\n    await loading.present();\n    this.fileType=\"doc\"\n    this.Ufile = event.target.files[0];\n    const formData = new FormData();\n    formData.append('file', this.Ufile);\n    this.http.post(AppComponent.ApiUrl+\"uploadfile.php\", formData).subscribe((resdata)=>{\n      console.log(resdata);\n      if(resdata==1){\n        this.FileName= this.imagefile.substr(this.imagefile.lastIndexOf('\\\\') + 1),\n        this.path=this.FileName;\n        this.type = \"image\";\n        var link = AppComponent.ApiUrl+\"chatmessage.php\";\n        var Data = JSON.stringify({\n          'chatroom':this.chatroom,\n          'posted_by':this.user_id,\n          'type':'image',\n          'message': this.message.value,\n          'filepath':this.path\n        });\n        console.log(Data);\n        this.http.post(link,Data).subscribe((cresponse)=>{\n          this.chatresponse=cresponse;\n          console.log(\"chat Response:\", this.chatresponse);\n          if(this.chatresponse==1){\n            this.loadingController.dismiss();\n            this.message.value='';\n            this.bottomdiv =false;\n            this.route.navigate(['chatbox']);\n          }\n        })\n      }\n    })\n    \n  }\n\n\n  async UploadAudio(event:any){\n    const loading = await this.loadingController.create({\n      cssClass: 'my-custom-class',\n      message: 'Please Wait',\n    });\n    await loading.present();\n    this.fileType=\"doc\"\n    this.Ufile = event.target.files[0];\n    const formData = new FormData();\n    formData.append('file', this.Ufile);\n    this.http.post(AppComponent.ApiUrl+\"uploadfile.php\", formData).subscribe((resdata)=>{\n      console.log(resdata);\n      if(resdata==1){\n        this.FileName= this.audfile.substr(this.audfile.lastIndexOf('\\\\') + 1),\n        this.path=this.FileName;\n        var link = AppComponent.ApiUrl+\"chatmessage.php\";\n        var Data = JSON.stringify({\n          'chatroom':this.chatroom,\n          'posted_by':this.user_id,\n          'type':'audio',\n          'message': this.message.value,\n          'filepath':this.path\n        });\n        console.log(Data);\n        this.http.post(link,Data).subscribe((cresponse)=>{\n          this.chatresponse=cresponse;\n          console.log(\"chat Response:\", this.chatresponse);\n          if(this.chatresponse==1){\n            this.loadingController.dismiss();\n            this.message.value='';\n            this.bottomdiv =false;\n            this.route.navigate(['chatbox']);\n          }\n        })\n      }\n    })\n    \n  }\n\n\n  async UploadVideo(event:any){\n    const loading = await this.loadingController.create({\n      cssClass: 'my-custom-class',\n      message: 'Please Wait',\n    });\n    await loading.present();\n    this.fileType=\"doc\"\n    this.Ufile = event.target.files[0];\n    const formData = new FormData();\n    formData.append('file', this.Ufile);\n    this.http.post(AppComponent.ApiUrl+\"uploadfile.php\", formData).subscribe((resdata)=>{\n      console.log(resdata);\n      if(resdata==1){\n        this.FileName= this.vidfile.substr(this.vidfile.lastIndexOf('\\\\') + 1),\n        this.path=this.FileName;\n        var link = AppComponent.ApiUrl+\"chatmessage.php\";\n        var Data = JSON.stringify({\n          'chatroom':this.chatroom,\n          'posted_by':this.user_id,\n          'type':'video',\n          'message': this.message.value,\n          'filepath':this.path\n        });\n        console.log(Data);\n        this.http.post(link,Data).subscribe((cresponse)=>{\n          this.chatresponse=cresponse;\n          console.log(\"chat Response:\", this.chatresponse);\n          if(this.chatresponse==1){\n            this.loadingController.dismiss();\n            this.message.value='';\n            this.bottomdiv =false;\n            this.route.navigate(['chatbox']);\n          }\n        })\n      }\n    })\n    \n  }\n \n   scrollToBottomOnInit() {\n    var element = document.getElementById(\"condiv\");\n   element.scrollTop = element.scrollHeight - element.clientHeight;\n   \n  }\n  attachments(){\n    if(this.bottomdiv==false){\n      this.bottomdiv=true;\n    }\n    else{\n      this.bottomdiv=false;\n    }\n  }\n\n  TakePictrue(){\n    const options: CameraOptions = {\n      sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE\n    }\n    this.camera.getPicture(options).then((imageData) => {\n      this.image = 'data:image/jpeg;base64,' + imageData;\n    });\n    var link = AppComponent.ApiUrl+\"chatmessage.php\";\n    var Data = JSON.stringify({\n      'chatroom':this.chatroom,\n      'posted_by':this.user_id,\n      'type':\"image\",\n      'message': this.message.value,\n      'filepath':this.image\n    });\n    console.log(Data);\n    this.http.post(link,Data).subscribe((cresponse)=>{\n      this.chatresponse=cresponse;\n      console.log(\"chat Response:\", this.chatresponse);\n      if(this.chatresponse==1){\n        this.loadingController.dismiss();\n        this.message.value='';\n        this.bottomdiv =false;\n        this.route.navigate(['chatbox']);\n      }\n    })\n  }\n\n\n async SendMessage(){\n    var link = AppComponent.ApiUrl+\"chatmessage.php\";\n    var Data = JSON.stringify({\n      'chatroom':this.chatroom,\n      'posted_by':this.user_id,\n      'type':this.type,\n      'message': this.message.value,\n      'filepath':this.path\n    });\n    console.log(Data);\n    this.http.post(link,Data).subscribe((cresponse)=>{\n      this.chatresponse=cresponse;\n      console.log(\"chat Response:\", this.chatresponse);\n      if(this.chatresponse==1){\n        this.loadingController.dismiss();\n        this.message.value='';\n        this.bottomdiv =false;\n      }\n    })\n    \n  }\n  ionViewDidLeave(){\n    this.ObservableVar.unsubscribe();\n  }\n  diSable(){\n    this.ObservableVar.unsubscribe();\n  }\n  ReActivate(){\n   this.callFun();\n  }\n  ScrollUp(){\n    alert(\"scroll\")\n    this.ObservableVar.unsubscribe();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ChatboxPage } from './chatbox.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChatboxPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ChatboxPageRoutingModule {}\n"]}