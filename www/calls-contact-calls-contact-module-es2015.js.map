{"version":3,"sources":["./src/app/calls-contact/calls-contact.page.ts","./src/app/calls-contact/calls-contact-routing.module.ts","./src/app/calls-contact/calls-contact.module.ts","./src/app/calls-contact/calls-contact.page.html","./src/app/calls-contact/calls-contact.page.scss"],"names":[],"mappings":"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","file":"calls-contact-calls-contact-module-es2015.js","sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Component, ElementRef, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Storage } from '@ionic/storage-angular';\nimport { AppComponent } from '../app.component';\nimport { AudiowebrtcService } from '../providers/audiowebrtc.service';\nimport { Observable } from \"rxjs/rx\";\nimport { Subscription } from 'rxjs/Subscription';\nimport { Media, MediaObject } from '@ionic-native/media/ngx';\nimport { NavController } from '@ionic/angular';\nimport { NavigationExtras } from '@angular/router';\nimport { AudioToggle } from 'capacitor-audio-toggle'\n@Component({\n  selector: 'app-calls-contact',\n  templateUrl: './calls-contact.page.html',\n  styleUrls: ['./calls-contact.page.scss'],\n})\nexport class CallsContactPage implements OnInit {\n  ObservableVar: Subscription;\n  topVideoFrame = 'partner-video';\n  userId: string;\n  partnerId: string;\n  myEl: HTMLMediaElement;\n  partnerEl: HTMLMediaElement;\n  user_id: any;\n  userDetails: any;\n  user_mobile: any;\n  contacts: any;\n  cntlength: any;\n  ring: MediaObject;\n  ringtone: MediaObject;\n  busytone: MediaObject;\n  MianDiv:any=true;\n  AudioDiv:any=false;\n  incomming: any;\n  callId: any;\n  calheader:any=true;\n  incmng: any=false;\n  outgng:any = true;\n  calls: any;\n  Endcall: any;\n  ResponseData: any;\n  callstatus: any;\n  ans_status: any;\n  Cstat: any;\n  Status: any;\n  Ans_Status: any;\n  constructor(\n    private http : HttpClient,\n    private storage: Storage,\n    private route:Router,\n    private router:ActivatedRoute,\n    public webRTC: AudiowebrtcService,\n    public elRef: ElementRef,\n    private media : Media,\n    public navCtrl: NavController,\n  ) { \n    this.ring = this.media.create('https://topiko.com/ringtones/ring.mp3');\n    this.ringtone = this.media.create('https://topiko.com/ringtones/ringtone.mp3');\n    this.busytone = this.media.create('https://topiko.com/ringtones/busy.mp3')\n\n    this.ObservableVar = Observable.interval(2000).subscribe(()=>{ \n      this.CheckCallStatus();\n    });\n  }\n\n  ngOnInit() {\n    this.router.params.subscribe(val=>{\n      this.storage.get('userdetails').then((udetails)=>{\n        this.userDetails = udetails\n        this.user_id = this.userDetails[0].id;\n        console.log(this.user_id,'User ID');\n        this.user_mobile = this.userDetails[0].mobile;\n        this.http.get(AppComponent.ApiUrl+\"getcontacts.php?user_id=\"+this.user_id).subscribe(Response =>\n          {\n            this.contacts = Response;\n            this.cntlength = this.contacts.length;\n            console.log(\"contacts\",Response);\n          });\n          this.http.get(AppComponent.ApiUrl+\"checkincomming.php?user_mobile=\"+this.user_mobile).subscribe((incval)=>{\n            this.incomming = incval;\n            console.log(\"calls Pge Inoming Staus\", this.incomming)\n            if(this.incomming !=0){\n              this.partnerId=this.incomming[0].caller_mobile;\n              this.callId = this.incomming[0].id;\n            console.log(\"Incoming call details are:\",this.incomming);\n            this.ringtone.setVolume(1);\n            this.ringtone.play();\n            this.calheader=false;\n                  this.MianDiv=false;\n                  this.AudioDiv=true;\n                  this.incmng=true;\n                  this.outgng = false;\n            }\n      });\n    });\n  });\n  \n}\nChangeudio(){\n  AudioToggle.setAudioMode({mode:'earpiece'});\n }\naudiocall(i){\n    this.partnerId=this.contacts[i].mobile;\n  this.StartCall(this.partnerId)\n  this.calheader=false;\n  this.MianDiv=false;\n  this.AudioDiv=true;\n  \n  this.myEl = this.elRef.nativeElement.querySelector('#my-video');\n  this.myEl.muted=true;\n  this.partnerEl = this.elRef.nativeElement.querySelector('#partner-video');\n  this.webRTC.init(this.user_mobile, this.myEl, this.partnerEl);\n  let mycall = this;\n  setTimeout(function(){ \n    mycall.call();},5000)\n  }\n  videocall(i){\n      this.partnerId=this.contacts[i].mobile;\n    this.storage.set(\"partnerId\", this.partnerId);\n      this.route.navigate(['videocall']);\n    }\n\n  call(){\n    console.log(\"call connected\", this.partnerId);\n    this.webRTC.call(this.partnerId);\n  }\n  callend(){\n   \n    this.calheader=true;\n    this.AudioDiv=false;\n    this.MianDiv=true;\n    this.ring.setVolume(0);\n    this.ringtone.setVolume(0);\n    this.busytone.setVolume(0);\n    this.webRTC.close();\n    this.http.get(AppComponent.ApiUrl+\"endcall.php?call_id=\"+this.callId+\"&record=\"+this.partnerId+\"CallRecord.mp3\").subscribe((Endcall)=>{\n      this.Endcall = Endcall;\n      if(this.Endcall==1){\n        this.route.navigate(['/calls']);\n      }\n    }) \n  }\n\n\n  // Clling Server Functions\n\n\n  //start Call\n  StartCall(pid){\n    this.http.get(AppComponent.ApiUrl+\"startcall.php?user_mobile=\"+this.user_mobile+\"&calee_mobile=\"+pid+\"&call_type=audio\").subscribe((ResponseData)=>{\n      this.ResponseData =ResponseData\n      console.log(\"Call Response Data:\", this.ResponseData)\n      if(this.ResponseData!=0){\n       this.callId = this.ResponseData;\n       this.http.get(AppComponent.ApiUrl+\"callstatus.php?calee_moble=\"+pid).subscribe((calval)=>{\n         this.callstatus = calval;\n         if(this.callstatus==0){\n          this.ring = this.media.create('https://topiko.com/ringtones/ring.mp3');\n          console.log(this.ring);\n          this.ring.setVolume(1);\n          this.ring.play();\n          let ringer = this\n          setInterval(function(){\n            ringer.ring.play();\n          },2000);\n          setTimeout(() => {\n            clearInterval();\n          }, 10000);\n\n          \n         }\n         else{\n          this.busytone = this.media.create('https://topiko.com/ringtones/busy.mp3')\n           this.busytone.setVolume(1);\n           this.busytone.play();\n           let callEnd =this;\n           setTimeout(function(){\n            callEnd.callend();\n           },8000);\n         }\n       })\n      }\n    })\n    }\n  // Strat call code EndsHere\n\n  // Answer Call code\n\n  AnsCall(){\n  console.log(\"Call_id\", this.incomming[0].id);\n  this.ringtone.setVolume(0);\n  this.incmng=false;\n  this.outgng = true;\n  this.http.get(AppComponent.ApiUrl+\"answerstatus.php?call_id=\"+this.incomming[0].id).subscribe((ans_status)=>{\n    this.ans_status = ans_status;\n    if(this.ans_status==1){\n      console.log(\"Call answered\");\n      this.partnerId = this.incomming[0].caller_mobile; \n      this.calheader=false;\n      this.MianDiv=false;\n      this.AudioDiv=true;\n      this.myEl = this.elRef.nativeElement.querySelector('#my-video');\n      this.myEl.muted=true;\n      this.partnerEl = this.elRef.nativeElement.querySelector('#partner-video');\n      this.webRTC.init(this.user_mobile, this.myEl, this.partnerEl);\n      let mycall = this;\n      setTimeout(function(){ \n        mycall.call();},5000)\n  \n    }\n  });\n\n  } \n\n  //Answercall code ends here\n\n  //check call status code starts here\n  CheckCallStatus(){\n    this.http.get(AppComponent.ApiUrl+\"checkcallstatus.php?call_id=\"+this.callId).subscribe((Cstat)=>{\n      this.Cstat=Cstat;\n      console.log(\"Call Status is:\", this.Cstat);\n      if(this.Cstat !=0){\n        this.Status = this.Cstat[0].status;\n        this.Ans_Status = this.Cstat[0].ans_status;\n        if(this.Ans_Status==1){\n          this.ring.setVolume(0);\n          this.Changeudio();\n        }\n        if(this.Status==2){\n          this.ObservableVar.unsubscribe();\n          this.callend();\n        }\n      }\n    \n\n    });\n   \n  } \nEndCall() {\nthis.callend();\n}\nionViewDidLeave(){\nthis.ObservableVar.unsubscribe();\nthis.http.get(AppComponent.ApiUrl+\"offlinestatus.php?user_id=\"+this.user_id).subscribe(Response =>\n  {\n    console.log(Response);\n  });\n\n}\n}","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CallsContactPage } from './calls-contact.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CallsContactPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CallsContactPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CallsContactPageRoutingModule } from './calls-contact-routing.module';\n\nimport { CallsContactPage } from './calls-contact.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CallsContactPageRoutingModule\n  ],\n  declarations: [CallsContactPage]\n})\nexport class CallsContactPageModule {}\n","export default \"<ion-header color=\\\"custom\\\" mode=\\\"md\\\">\\n  <ion-toolbar color=\\\"custom\\\" class=\\\"toolbar\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button icon=\\\"chevron-back\\\"></ion-back-button>\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Your Contact</ion-title>\\n    <ion-row class=\\\"date\\\">\\n      <ion-title>{{cntlength}} Contacts</ion-title>\\n    </ion-row>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-icon name=\\\"search-outline\\\"></ion-icon>\\n      <ion-icon name=\\\"ellipsis-vertical\\\"></ion-icon>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <audio id=\\\"partner-video\\\" (click)=\\\"swapVideo('my-video')\\\" autoplay controls\\n  [ngClass]=\\\"{'top-video': topVideoFrame === 'partner-video', 'main-video': topVideoFrame != 'partner-video'}\\\" style=\\\"display: none;\\\">\\n</audio>\\n<audio id=\\\"my-video\\\" (click)=\\\"swapVideo('partner-video')\\\" autoplay controls muted=\\\"muted\\\"\\n  [ngClass]=\\\"{'top-video': topVideoFrame === 'my-video', 'main-video': topVideoFrame != 'my-video'}\\\" style=\\\"display: none;\\\">\\n</audio>\\n <!--  <ion-grid class=\\\"group\\\">\\n    <ion-row>\\n      <div class=\\\"avatar\\\">\\n        <ion-fab-button color=\\\"light\\\">\\n          <ion-icon name=\\\"people\\\"></ion-icon>\\n        </ion-fab-button>\\n      </div>\\n      <ion-col>\\n        <p>New group call</p>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n  <ion-grid class=\\\"group\\\">\\n    <ion-row>\\n      <div class=\\\"avatar\\\">\\n        <ion-fab-button color=\\\"light\\\">\\n          <ion-icon name=\\\"person-add\\\"></ion-icon>\\n        </ion-fab-button>\\n      </div>\\n      <ion-col>\\n        <p>New Contact</p>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid> -->\\n<div *ngIf= \\\"MianDiv\\\">\\n  <ion-card *ngFor=\\\"let contact of contacts let i=index\\\">\\n    <ion-row>\\n      <div class=\\\"avatar\\\">\\n        <ion-avatar>\\n          <img src=\\\"https://i.pinimg.com/474x/bc/d4/ac/bcd4ac32cc7d3f98b5e54bde37d6b09e.jpg\\\" alt=\\\"\\\">\\n        </ion-avatar>\\n      </div>\\n      <ion-col class=\\\"text-overflow\\\">\\n        <p class=\\\"user-name\\\">{{contact.name}}</p>\\n        <p class=\\\"time\\\">{{contact.city}}</p>\\n      </ion-col>\\n      <ion-col class=\\\"vidicon\\\" size=\\\"2\\\">\\n         <!-- <ion-icon name=\\\"videocam\\\" (click)=\\\"videocall(i)\\\"></ion-icon> -->\\n      </ion-col>\\n      <ion-col class=\\\"callicon\\\" size=\\\"2\\\">\\n        <ion-icon name=\\\"call\\\" (click)=\\\"audiocall(i)\\\"></ion-icon>\\n      </ion-col>\\n    </ion-row>\\n  </ion-card>\\n</div>\\n  <div *ngIf=\\\"AudioDiv\\\" class=\\\"audioDiv\\\">\\n    <h1 class=\\\"bus\\\" style=\\\"margin-top: 70%;\\\">{{partnerId}}</h1>\\n    <h4 class=\\\"calling\\\">Calling</h4>\\n  <ion-grid>\\n   \\n    <ion-row  *ngIf=\\\"outgng\\\" style=\\\"margin-top: 40%; text-align: center;\\\">\\n      <ion-fab-button color=\\\"danger\\\" (click)=\\\"callend()\\\" style=\\\"margin-left: 45%;\\\">\\n        <ion-icon name=\\\"call\\\"></ion-icon>\\n      </ion-fab-button>\\n    </ion-row>\\n    <ion-row *ngIf=\\\"incmng\\\" style=\\\"margin-top: 30%;\\\">\\n      <ion-col size=\\\"1\\\"></ion-col>\\n      <ion-col size=\\\"2\\\" style=\\\"text-align: left !important;\\\">\\n        <ion-button color= \\\"danger\\\" (click)=\\\"callend()\\\" style=\\\"width:50px; height:50px; border-radius: 17px; float: left;\\\">\\n          <ion-icon name=\\\"call\\\"></ion-icon>\\n        </ion-button>\\n      </ion-col>\\n      <ion-col size=\\\"6\\\"></ion-col>\\n      <ion-col size=\\\"2\\\" style=\\\"text-align: right !important;\\\">\\n        <ion-button  color=\\\"success\\\" (click)=\\\"AnsCall()\\\" style=\\\"width:50px; height:50px; border-radius: 17px; float: right;\\\" >\\n          <ion-icon name=\\\"call\\\"></ion-icon>\\n        </ion-button>\\n      </ion-col>\\n      <ion-col size=\\\"1\\\"></ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</div>\\n</ion-content>\";","export default \"ion-content {\\n  color: #ffffff;\\n}\\n\\nion-header ion-icon {\\n  color: #ffffff;\\n  font-size: 21px;\\n}\\n\\nion-title {\\n  font-size: 16px;\\n  color: #ffffff;\\n  padding: 0px;\\n  letter-spacing: 0.6px;\\n}\\n\\n.date ion-title {\\n  font-size: 10px;\\n  margin-top: 7px;\\n  letter-spacing: 0px;\\n  color: #ffffff;\\n}\\n\\nion-content {\\n  --padding-bottom: 65px;\\n  --padding-start: 18px;\\n  --padding-end: 18px;\\n}\\n\\nion-fab-button {\\n  --ion-color-base: linear-gradient(#871178, #3c1378) !important;\\n  --box-shadow: none;\\n}\\n\\nion-fab-button ion-icon {\\n  color: #ffffff;\\n  font-size: 30px;\\n}\\n\\nion-card {\\n  padding: 7px;\\n  padding-left: 10px;\\n  margin: 7px 0px;\\n  box-shadow: 0px 3px 6px #00000029;\\n}\\n\\n.group ion-col {\\n  padding-left: 10px;\\n}\\n\\n.group {\\n  margin-left: 5px;\\n  margin-right: 5px;\\n}\\n\\n.group p {\\n  color: #871178;\\n  font-size: 17px;\\n  font-weight: bold;\\n  padding: 0px;\\n  margin-top: 18px;\\n}\\n\\n.avatar ion-avatar {\\n  width: 56px;\\n  height: 56px;\\n}\\n\\n.user-name {\\n  color: #22272a;\\n  font-size: 18px;\\n  margin: 0px 5px 3px 0px;\\n}\\n\\n.time {\\n  color: #9f9f9f;\\n  font-size: 12px;\\n  margin: 4px 0px 4px 0px;\\n}\\n\\n.callicon {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.vidicon {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.callicon ion-icon {\\n  font-size: 22px;\\n}\\n\\n.vidicon ion-icon {\\n  font-size: 22px;\\n}\\n\\n.audioDiv {\\n  text-align: center;\\n  color: #fff;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXGNhbGxzLWNvbnRhY3QucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUksY0FBQTtBQUFKOztBQUVBO0VBQ0ksY0FBQTtFQUNBLGVBQUE7QUFDSjs7QUFDQTtFQUNJLGVBQUE7RUFDQSxjQUFBO0VBQ0EsWUFBQTtFQUNBLHFCQUFBO0FBRUo7O0FBQUE7RUFDSSxlQUFBO0VBQ0EsZUFBQTtFQUNBLG1CQUFBO0VBQ0EsY0FBQTtBQUdKOztBQURBO0VBQ0ksc0JBQUE7RUFDQSxxQkFBQTtFQUNBLG1CQUFBO0FBSUo7O0FBRkE7RUFDSSw4REFBQTtFQUNBLGtCQUFBO0FBS0o7O0FBSEE7RUFDSSxjQUFBO0VBQ0EsZUFBQTtBQU1KOztBQUpBO0VBQ0ksWUFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLGlDQUFBO0FBT0o7O0FBTEE7RUFDSSxrQkFBQTtBQVFKOztBQU5BO0VBQ0ksZ0JBQUE7RUFDQSxpQkFBQTtBQVNKOztBQVBBO0VBQ0ksY0FBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtBQVVKOztBQVBBO0VBQ0ksV0FBQTtFQUNBLFlBQUE7QUFVSjs7QUFSQTtFQUNJLGNBQUE7RUFDQSxlQUFBO0VBQ0EsdUJBQUE7QUFXSjs7QUFUQTtFQUNJLGNBQUE7RUFDQSxlQUFBO0VBQ0EsdUJBQUE7QUFZSjs7QUFUQTtFQUNJLGFBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0FBWUo7O0FBVkE7RUFDSSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtBQWFKOztBQVhBO0VBQ0ksZUFBQTtBQWNKOztBQVpBO0VBQ0ksZUFBQTtBQWVKOztBQVpBO0VBQ0ksa0JBQUE7RUFDQSxXQUFBO0FBZUoiLCJmaWxlIjoiY2FsbHMtY29udGFjdC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudCB7XHJcbiAgIFxyXG4gICAgY29sb3I6ICNmZmZmZmY7XHJcbn1cclxuaW9uLWhlYWRlciBpb24taWNvbiB7XHJcbiAgICBjb2xvcjogI2ZmZmZmZjtcclxuICAgIGZvbnQtc2l6ZTogMjFweDtcclxufVxyXG5pb24tdGl0bGUge1xyXG4gICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgY29sb3I6ICNmZmZmZmY7XHJcbiAgICBwYWRkaW5nOiAwcHg7XHJcbiAgICBsZXR0ZXItc3BhY2luZzogMC42cHg7XHJcbn1cclxuLmRhdGUgaW9uLXRpdGxlIHtcclxuICAgIGZvbnQtc2l6ZTogMTBweDtcclxuICAgIG1hcmdpbi10b3A6IDdweDtcclxuICAgIGxldHRlci1zcGFjaW5nOiAwcHg7XHJcbiAgICBjb2xvcjogI2ZmZmZmZjtcclxufVxyXG5pb24tY29udGVudCB7XHJcbiAgICAtLXBhZGRpbmctYm90dG9tOiA2NXB4O1xyXG4gICAgLS1wYWRkaW5nLXN0YXJ0OiAxOHB4O1xyXG4gICAgLS1wYWRkaW5nLWVuZDogMThweDtcclxufVxyXG5pb24tZmFiLWJ1dHRvbiB7XHJcbiAgICAtLWlvbi1jb2xvci1iYXNlOiBsaW5lYXItZ3JhZGllbnQoIzg3MTE3OCwgIzNjMTM3OCkgIWltcG9ydGFudDtcclxuICAgIC0tYm94LXNoYWRvdzogbm9uZTtcclxufVxyXG5pb24tZmFiLWJ1dHRvbiBpb24taWNvbiB7XHJcbiAgICBjb2xvcjogI2ZmZmZmZjtcclxuICAgIGZvbnQtc2l6ZTogMzBweDtcclxufVxyXG5pb24tY2FyZCB7XHJcbiAgICBwYWRkaW5nOiA3cHg7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDEwcHg7XHJcbiAgICBtYXJnaW46IDdweCAwcHg7XHJcbiAgICBib3gtc2hhZG93OiAwcHggM3B4IDZweCAjMDAwMDAwMjk7XHJcbn1cclxuLmdyb3VwIGlvbi1jb2wge1xyXG4gICAgcGFkZGluZy1sZWZ0OiAxMHB4O1xyXG59XHJcbi5ncm91cCB7XHJcbiAgICBtYXJnaW4tbGVmdDogNXB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiA1cHg7XHJcbn1cclxuLmdyb3VwIHAge1xyXG4gICAgY29sb3I6ICM4NzExNzg7XHJcbiAgICBmb250LXNpemU6IDE3cHg7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIHBhZGRpbmc6IDBweDtcclxuICAgIG1hcmdpbi10b3A6IDE4cHg7XHJcbn1cclxuXHJcbi5hdmF0YXIgaW9uLWF2YXRhciB7XHJcbiAgICB3aWR0aDogNTZweDtcclxuICAgIGhlaWdodDogNTZweDtcclxufVxyXG4udXNlci1uYW1lIHtcclxuICAgIGNvbG9yOiAjMjIyNzJhO1xyXG4gICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgbWFyZ2luOiAwcHggNXB4IDNweCAwcHg7XHJcbn1cclxuLnRpbWUge1xyXG4gICAgY29sb3I6ICM5ZjlmOWY7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICBtYXJnaW46IDRweCAwcHggNHB4IDBweDtcclxufVxyXG5cclxuLmNhbGxpY29uIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuLnZpZGljb24ge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG4uY2FsbGljb24gaW9uLWljb24ge1xyXG4gICAgZm9udC1zaXplOiAyMnB4O1xyXG59XHJcbi52aWRpY29uIGlvbi1pY29uIHtcclxuICAgIGZvbnQtc2l6ZTogMjJweDtcclxufVxyXG5cclxuLmF1ZGlvRGl2IHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG59XHJcbiJdfQ== */\";"],"sourceRoot":"webpack:///"}