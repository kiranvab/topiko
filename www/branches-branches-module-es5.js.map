{"version":3,"sources":["webpack:///src/app/branches/branches.module.ts","webpack:///src/app/branches/branches-routing.module.ts","webpack:///src/app/branches/branches.page.html","webpack:///src/app/branches/branches.page.ts","webpack:///src/app/branches/branches.page.scss"],"names":["BranchesPageModule","imports","declarations","routes","path","component","BranchesPageRoutingModule","forChild","exports","BranchesPage","storage","http","router","actionsheetCtrl","alertController","getBranches","get","then","val","buid","console","log","ApiUrl","subscribe","data","branches","i","create","buttons","text","handler","set","id","navigate","presentAlertConfirm","actionSheet","present","cssClass","header","message","role","blah","AlertDelete","alert","selector","template"],"mappings":"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","file":"branches-branches-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { BranchesPageRoutingModule } from './branches-routing.module';\n\nimport { BranchesPage } from './branches.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    BranchesPageRoutingModule\n  ],\n  declarations: [BranchesPage]\n})\nexport class BranchesPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { BranchesPage } from './branches.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BranchesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class BranchesPageRoutingModule {}\n","export default \"<ion-header>\\n  <ion-toolbar color=\\\"custom\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button mode=\\\"md\\\"></ion-back-button>\\n      <ion-menu-button mode=\\\"ios\\\"></ion-menu-button>\\n     \\n    </ion-buttons>\\n    <ion-title>Branches</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"getBranches()\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n\\n  <ion-card *ngFor=\\\"let branch of branches; let i = index;\\\">\\n    <ion-row>\\n      <ion-col size=\\\"8\\\" class=\\\"address\\\">\\n        <span style=\\\"color:#871178;\\\">{{branch.branch_title}}</span>\\n        <p><b>Address :</b><br>\\n          {{branch.branch_address}}\\n          {{branch.branch_area}}\\n          {{branch.branch_city}}\\n          {{branch.branch_state}}\\n          {{branch.branch_pincode}}\\n          {{branch.branch_country}}\\n        </p>\\n        <span style=\\\"color: #871178;\\\">{{branch.created_date}} - {{branch.created_time}}</span>\\n      </ion-col>\\n      <ion-col size=\\\"3\\\">\\n        <img src=\\\"https://localsearchforum.com/attachments/maps-embed-api-example-png.3469/\\\" class=\\\"img\\\">\\n      </ion-col>\\n      <ion-col style=\\\"text-align: right;\\\">\\n        <ion-icon name=\\\"ellipsis-vertical\\\"  (click)=\\\"openMenu(i)\\\"></ion-icon>\\n      </ion-col>\\n    </ion-row>\\n  </ion-card>\\n\\n  \\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\" routerLink=\\\"/addbranches\\\">\\n    <ion-fab-button>\\n      <ion-icon name=\\\"add-outline\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n\\n</ion-content>\";","import { Component, OnInit } from '@angular/core';\nimport { AppComponent } from '../app.component';\nimport { Storage } from '@ionic/storage-angular';\nimport { HttpClient } from '@angular/common/http';\nimport { Router } from '@angular/router';\nimport { ActionSheetController } from '@ionic/angular';\nimport { AlertController } from '@ionic/angular';\n\n\n@Component({\n  selector: 'app-branches',\n  templateUrl: './branches.page.html',\n  styleUrls: ['./branches.page.scss'],\n})\nexport class BranchesPage implements OnInit {\n  buid: any;\n  branches:any;\n\n  constructor(\n    private storage:Storage,\n    private http: HttpClient,\n    private router:Router,\n    private actionsheetCtrl:ActionSheetController,\n    public alertController: AlertController,\n   \n  ) { }\n\n  \n  ionViewDidEnter() {\n   this.getBranches();\n  }\n\n  ngOnInit() {\n    this.storage.get(\"bid\").then(val=>\n      {\n        this.buid = val;\n        console.log(this.buid);\n        this.http.get(AppComponent.ApiUrl+\"getbranches.php?bid=\"+this.buid).subscribe(data =>{\n          this.branches = data;\n          console.log(\"Branches\", this.branches);\n        })\n      })\n      this.getBranches();\n  }\n\n  getBranches(){\n  this.http.get(AppComponent.ApiUrl+\"getbranches.php?bid=\"+this.buid).subscribe(data =>{\n    this.branches = data;\n    console.log(\"Branches\", this.branches);\n  })\n}\n\n  async openMenu(i) {  \n    const actionSheet = await this.actionsheetCtrl.create({  \n     // header: 'Modify your album',  \n      buttons: [  \n        {  \n          text: 'Edit',  \n          handler: () => {  \n            this.storage.set(\"brid\",this.branches[i].id);\n            console.log(\"brid\",this.branches[i].id);\n            this.router.navigate(['edit-branch']);\n          }  \n        },{  \n          text: 'Delete',  \n          handler: () => {  \n            this.presentAlertConfirm(i);\n            this.router.navigate(['branches']);\n            \n          }  \n        }  \n      ]  \n    });  \n    await actionSheet.present();  \n  } \n\n  async presentAlertConfirm(i) {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Confirm!',\n      message: 'Are You Sure you want to <strong>Delete</strong> Branch!!!',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: 'Yes',\n          handler: () => {\n            console.log('Confirm Okay');\n            console.log(this.branches[i].id);\n            this.http.get(AppComponent.ApiUrl+\"deletebranch.php?brid=\"+this.branches[i].id).subscribe(data =>{\n              console.log(\"Response\", data);\n              this.getBranches();\n              this.AlertDelete()\n            })\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  async AlertDelete(){\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Deleted!',\n      message: 'Branch has been deleted sucesfully.',\n      buttons: ['OK']\n    });\n    await alert.present();\n    this.router.navigate(['/branches']);\n    \n      }\n\n\n}\n","export default \".adress p {\\n  margin: 17px 0px;\\n}\\n\\n.add {\\n  font-size: 40px;\\n  color: #871178;\\n}\\n\\n.adds {\\n  padding: 10px;\\n  color: purple;\\n  font-size: 20px;\\n}\\n\\n.title {\\n  text-align: center;\\n}\\n\\nion-header ion-title {\\n  color: #FFFFFF;\\n  font-size: 18px;\\n}\\n\\n.ellipsis ion-icon {\\n  font-size: 22px;\\n  color: #FFFFFF;\\n}\\n\\n.img {\\n  padding: 5px;\\n  max-width: 90px;\\n}\\n\\nion-card {\\n  padding: 5px;\\n  margin: 5px 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXGJyYW5jaGVzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdCQUFBO0FBQ0o7O0FBQ0E7RUFDSSxlQUFBO0VBRUEsY0FBQTtBQUNKOztBQUNBO0VBQ0ksYUFBQTtFQUNBLGFBQUE7RUFDQSxlQUFBO0FBRUo7O0FBQUE7RUFDSSxrQkFBQTtBQUdKOztBQURBO0VBQ0ksY0FBQTtFQUNGLGVBQUE7QUFJRjs7QUFGQTtFQUNBLGVBQUE7RUFDSSxjQUFBO0FBS0o7O0FBSEE7RUFDSSxZQUFBO0VBQ0EsZUFBQTtBQU1KOztBQUpBO0VBQ0ksWUFBQTtFQUNBLGdCQUFBO0FBT0oiLCJmaWxlIjoiYnJhbmNoZXMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmFkcmVzcyBwe1xyXG4gICAgbWFyZ2luOiAxN3B4IDBweDtcclxufVxyXG4uYWRke1xyXG4gICAgZm9udC1zaXplOjQwcHg7XHJcblxyXG4gICAgY29sb3I6ICM4NzExNzg7XHJcbiAgICB9XHJcbi5hZGRze1xyXG4gICAgcGFkZGluZzoxMHB4O1xyXG4gICAgY29sb3I6cHVycGxlO1xyXG4gICAgZm9udC1zaXplOiAyMHB4O1xyXG59XHJcbi50aXRsZXtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5pb24taGVhZGVyIGlvbi10aXRsZXtcclxuICAgIGNvbG9yOiAjRkZGRkZGO1xyXG4gIGZvbnQtc2l6ZTogMThweDtcclxufVxyXG4uZWxsaXBzaXMgaW9uLWljb257XHJcbmZvbnQtc2l6ZTogMjJweDtcclxuICAgIGNvbG9yOiNGRkZGRkY7XHJcbn1cclxuLmltZ3tcclxuICAgIHBhZGRpbmc6NXB4O1xyXG4gICAgbWF4LXdpZHRoOjkwcHg7XHJcbn1cclxuaW9uLWNhcmR7XHJcbiAgICBwYWRkaW5nOiA1cHg7XHJcbiAgICBtYXJnaW46IDVweCAxMHB4O1xyXG59XHJcblxyXG5cclxuIl19 */\";"]}