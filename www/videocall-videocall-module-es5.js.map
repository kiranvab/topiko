{"version":3,"sources":["webpack:///src/app/videocall/videocall.page.ts","webpack:///src/app/videocall/videocall.module.ts","webpack:///src/app/videocall/videocall-routing.module.ts","webpack:///src/app/videocall/videocall.page.html","webpack:///src/app/providers/webrtc.service.ts","webpack:///src/app/videocall/videocall.page.scss"],"names":["VideocallPage","webRTC","elRef","storage","http","media","navCtrl","topVideoFrame","ring","create","ringtone","busytone","get","then","udetails","userDetails","userId","mobile","init","partner","partnerId","StartVCall","vidcall","setTimeout","call","pid","ApiUrl","subscribe","ResponseData","console","log","callId","calval","callstatus","setVolume","play","ringer","setInterval","clearInterval","callEnd","callend","Error","myEl","nativeElement","querySelector","partnerEl","swapVideo","topVideo","selector","template","VideocallPageModule","imports","declarations","routes","path","component","VideocallPageRoutingModule","forChild","exports","WebrtcService","stun","stunServer","urls","options","key","debug","navigator","getUserMedia","audio","video","stream","handleSuccess","error","handleError","getMedia","e","createPeer","peer","on","wait","myStream","srcObject","answer","name","errorMsg","msg","errorElement","document","innerHTML","providedIn"],"mappings":"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","file":"videocall-videocall-module-es5.js","sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Component, ElementRef} from '@angular/core';\nimport { Media } from '@ionic-native/media/ngx';\nimport { NavController } from '@ionic/angular';\nimport { Storage } from '@ionic/storage-angular';\nimport { AppComponent } from '../app.component';\nimport { WebrtcService } from '../providers/webrtc.service';\n@Component({\n  selector: 'app-videocall',\n  templateUrl: './videocall.page.html',\n  styleUrls: ['./videocall.page.scss'],\n})\nexport class VideocallPage  {\n  topVideoFrame = 'partner-video';\n  userId: string;\n  partnerId: string;\n  myEl: HTMLMediaElement;\n  partnerEl: HTMLMediaElement;\n  userDetails: any;\n  ring: any;\n  ringtone: any;\n  busytone: any;\n  ResponseData: Object;\n  callId: any;\n  callstatus: Object;\n  constructor(\n    public webRTC: WebrtcService,\n    public elRef: ElementRef,\n    private storage  :Storage,\n    private http: HttpClient,\n    private media : Media,\n    public navCtrl: NavController,\n  ) { \n    this.ring = this.media.create('https://topiko.com/ringtones/ring.mp3');\n    this.ringtone = this.media.create('https://topiko.com/ringtones/ringtone.mp3');\n    this.busytone = this.media.create('https://topiko.com/ringtones/busy.mp3')\n  }\n\n  ngOnInit() {\n    this.storage.get('userdetails').then((udetails)=>{\n      this.userDetails = udetails;\n      this.userId = this.userDetails[0].mobile;\n      this.init();\n    });\n\n    this.storage.get(\"partnerId\").then(partner=>{\n      this.partnerId = partner;\n      this.StartVCall(this.partnerId);\n      let vidcall = this;\n      setTimeout(function(){\n        vidcall.call();\n      }, 3000);\n    })\n  }\n\n\n      //start Call\n      StartVCall(pid){\n        this.http.get(AppComponent.ApiUrl+\"startcall.php?user_mobile=\"+this.userId+\"&calee_mobile=\"+pid+\"&call_type=video\").subscribe((ResponseData)=>{\n          this.ResponseData =ResponseData\n          console.log(\"Call Response Data:\", this.ResponseData)\n          if(this.ResponseData!=0){\n           this.callId = this.ResponseData;\n           this.http.get(AppComponent.ApiUrl+\"callstatus.php?calee_moble=\"+pid).subscribe((calval)=>{\n             this.callstatus = calval;\n             if(this.callstatus==0){\n              this.ring = this.media.create('https://topiko.com/ringtones/ring.mp3');\n              console.log(this.ring);\n              this.ring.setVolume(1);\n              this.ring.play();\n              let ringer = this\n              setInterval(function(){\n                ringer.ring.play();\n              },2000);\n              setTimeout(() => {\n                clearInterval();\n              }, 10000);\n\n              \n             }\n             else{\n              this.busytone = this.media.create('https://topiko.com/ringtones/busy.mp3')\n               this.busytone.setVolume(1);\n               this.busytone.play();\n               let callEnd =this;\n               setTimeout(function(){\n                callEnd.callend();\n               },8000);\n             }\n           })\n          }\n        })\n        }\n  callend() {\n    throw new Error('Method not implemented.');\n  }\n      // Strat call code EndsHere\n\n  async init() {\n    this.myEl = this.elRef.nativeElement.querySelector('#my-video');\n    this.partnerEl = this.elRef.nativeElement.querySelector('#partner-video');\n    this.webRTC.init(this.userId, this.myEl, this.partnerEl);\n  }\n\n  async call() {\n    this.webRTC.call(this.partnerId);\n    this.swapVideo('my-video');\n  }\n\n  swapVideo(topVideo: string) {\n    this.topVideoFrame = topVideo;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { VideocallPageRoutingModule } from './videocall-routing.module';\n\nimport { VideocallPage } from './videocall.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    VideocallPageRoutingModule\n  ],\n  declarations: [VideocallPage]\n})\nexport class VideocallPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { VideocallPage } from './videocall.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: VideocallPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class VideocallPageRoutingModule {}\n","export default \"<ion-content>\\n  <div id=\\\"errorMsg\\\"></div>\\n\\n  <video id=\\\"partner-video\\\" (click)=\\\"swapVideo('my-video')\\\" autoplay playsinline\\n    [ngClass]=\\\"{'top-video': topVideoFrame === 'partner-video', 'main-video': topVideoFrame != 'partner-video'}\\\">\\n  </video>\\n  <video id=\\\"my-video\\\" (click)=\\\"swapVideo('partner-video')\\\" autoplay playsinline\\n    [ngClass]=\\\"{'top-video': topVideoFrame === 'my-video', 'main-video': topVideoFrame != 'my-video'}\\\" >\\n  </video>\\n\\n\\n  <ion-row nowrap style=\\\"display: none;\\\">\\n    <ion-button (click)=\\\"init()\\\">Login As: </ion-button>\\n    <ion-item>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"userId\\\" placeholder=\\\"enter your nick name\\\"></ion-input>\\n    </ion-item>\\n  </ion-row>\\n\\n  <ion-row nowrap style=\\\"display: none;\\\">\\n    <ion-button (click)=\\\"call()\\\">Call To: </ion-button>\\n    <ion-item>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"partnerId\\\" placeholder=\\\"your partner nick name\\\"></ion-input>\\n    </ion-item>\\n  </ion-row>  \\n</ion-content>\\n\\n<ion-footer>\\n  <ion-row>\\n    <ion-col>\\n      <ion-fab-button class=\\\"acc-call\\\">\\n        <ion-icon name=\\\"call-outline\\\"></ion-icon>\\n      </ion-fab-button>\\n\\n      <ion-fab-button color=\\\"light\\\">\\n      <ion-icon name=\\\"mic-outline\\\"  style=\\\"color: #000;\\\"></ion-icon>\\n      <ion-icon name=\\\"mic-off-outline\\\"  style=\\\"color: #000;\\\"></ion-icon>\\n    </ion-fab-button>\\n    </ion-col>\\n    <ion-col>\\n      <ion-icon name=\\\"camera-reverse-outline\\\"></ion-icon>\\n    </ion-col>\\n    <ion-col>\\n      <ion-fab-button>\\n        <ion-icon name=\\\"call-outline\\\" style=\\\"transform: rotate(135deg);\\\"></ion-icon>\\n      </ion-fab-button>\\n      \\n    </ion-col>\\n  </ion-row>\\n</ion-footer>\";","import { Injectable } from '@angular/core';\nimport Peer from 'peerjs';\n@Injectable({\n  providedIn: 'root'\n})\nexport class WebrtcService {\n  peer: Peer;\n  myStream: MediaStream;\n  myEl: HTMLMediaElement;\n  partnerEl: HTMLMediaElement;\n\n  stun = 'stun.l.google.com:19302';\n  mediaConnection: Peer.MediaConnection;\n  options: Peer.PeerJSOption;\n  stunServer: RTCIceServer = {\n    urls: 'stun:' + this.stun,\n  };\n\n  constructor() { \n    this.options = {  // not used, by default it'll use peerjs server\n      key: 'cd1ft79ro8g833di',\n      debug: 3\n    };\n  }\n  getMedia() {\n    navigator.getUserMedia({ audio: true, video: true }, (stream) => {\n      this.handleSuccess(stream);\n    }, (error) => {\n      this.handleError(error);\n    });\n  }\n\n  async init(userId: string, myEl: HTMLMediaElement, partnerEl: HTMLMediaElement) {\n    this.myEl = myEl;\n    this.partnerEl = partnerEl;\n    try {\n      this.getMedia();\n    } catch (e) {\n      this.handleError(e);\n    }\n    await this.createPeer(userId);\n  }\n\n  async createPeer(userId: string) {\n    this.peer = new Peer(userId);\n    this.peer.on('open', () => {\n      this.wait();\n    });\n  }\n\n  call(partnerId: string) {\n    const call = this.peer.call(partnerId, this.myStream);\n    call.on('stream', (stream) => {\n      this.partnerEl.srcObject = stream;\n    });\n  }\n\n  wait() {\n    this.peer.on('call', (call) => {\n      call.answer(this.myStream);\n      call.on('stream', (stream) => {\n        this.partnerEl.srcObject = stream;\n      });\n    });\n  }\n\n  handleSuccess(stream: MediaStream) {\n    this.myStream = stream;\n    this.myEl.srcObject = stream;\n  }\n\n  handleError(error: any) {\n    if (error.name === 'ConstraintNotSatisfiedError') {\n      //const v = constraints.video;\n     // this.errorMsg(`The resolution ${v.width.exact}x${v.height.exact} px is not supported by your device.`);\n      this.errorMsg(`The resolution px is not supported by your device.`);\n    } else if (error.name === 'PermissionDeniedError') {\n      this.errorMsg('Permissions have not been granted to use your camera and ' +\n        'microphone, you need to allow the page access to your devices in ' +\n        'order for the demo to work.');\n    }\n    this.errorMsg(`getUserMedia error: ${error.name}`, error);\n  }\n\n  errorMsg(msg: string, error?: any) {\n    const errorElement = document.querySelector('#errorMsg');\n    errorElement.innerHTML += `<p>${msg}</p>`;\n    if (typeof error !== 'undefined') {\n      console.error(error);\n    }\n  }\n}\n","export default \"ion-footer ion-icon {\\n  width: 32px;\\n  height: 32px;\\n}\\n\\nion-fab-button {\\n  --background: red !important;\\n  width: 50px;\\n  height: 50px;\\n}\\n\\n.acc-call {\\n  --background: green !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXHZpZGVvY2FsbC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFFSSxXQUFBO0VBQ0EsWUFBQTtBQUFKOztBQUlBO0VBRUksNEJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQUZKOztBQUlBO0VBRUksOEJBQUE7QUFGSiIsImZpbGUiOiJ2aWRlb2NhbGwucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWZvb3RlciBpb24taWNvblxyXG57XHJcbiAgICB3aWR0aDogMzJweDtcclxuICAgIGhlaWdodDogMzJweDtcclxuXHJcbn1cclxuXHJcbmlvbi1mYWItYnV0dG9uXHJcbntcclxuICAgIC0tYmFja2dyb3VuZDogcmVkICFpbXBvcnRhbnQ7XHJcbiAgICB3aWR0aDogNTBweDtcclxuICAgIGhlaWdodDogNTBweDtcclxufVxyXG4uYWNjLWNhbGxcclxue1xyXG4gICAgLS1iYWNrZ3JvdW5kOiBncmVlbiAhaW1wb3J0YW50O1xyXG59Il19 */\";"]}